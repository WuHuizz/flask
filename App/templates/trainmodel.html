<!DOCTYPE html>

<html class="app-ui">

    <head>
        <!-- Meta -->
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

        <!-- Document title -->
        <title></title>

        <meta name="description" content="AppUI - Admin Dashboard Template & UI Framework" />
        <meta name="author" content="rustheme" />
        <meta name="robots" content="noindex, nofollow" />

        <!-- Favicons -->
        <link rel="apple-touch-icon" href="../static/assets/img/favicons/apple-touch-icon.png" />
        <link rel="icon" href="../static/assets/img/favicons/favicon.ico" />

        <!-- Google fonts -->
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,900%7CRoboto+Slab:300,400%7CRoboto+Mono:400" />

        <!-- Page JS Plugins CSS -->
{#        <link rel="stylesheet" href="../static/assets/js/plugins/slick/slick.min.css" />#}
{#        <link rel="stylesheet" href="../static/assets/js/plugins/slick/slick-theme.min." />#}

        <!-- AppUI CSS stylesheets -->
        <link rel="stylesheet" id="css-font-awesome" href="../static/assets/css/font-awesome.css" />
        <link rel="stylesheet" id="css-ionicons" href="../static/assets/css/ionicons.css" />
        <link rel="stylesheet" id="css-bootstrap" href="../static/assets/css/bootstrap.css" />
        <link rel="stylesheet" id="css-app" href="../static/assets/css/app.css" />
        <link rel="stylesheet" id="css-app-custom" href="../static/assets/css/app-custom.css" />
        <!-- End Stylesheets -->
    </head>

    <body class="app-ui layout-has-drawer layout-has-fixed-header">
        <div class="app-layout-canvas">
            <div class="app-layout-container">

                <!-- Drawer -->
                <aside class="app-layout-drawer">

                    <!-- Drawer scroll area -->
                    <div class="app-layout-drawer-scroll">

                        <!-- Drawer navigation -->
                        <nav class="drawer-main">
                            <ul class="nav nav-drawer">

                                <li class="nav-item nav-drawer-header">大数据征信归因分析原型系统</li>
                                <li class="nav-item ">
                                    <a href="{{'/upload'}}"><i class="ion-document"></i>上传文件</a>
                                </li>
                                <li class="nav-item ">
                                    <a href="{{'/showdata'}}"><i class="ion-ios-speedometer-outline"></i>数据分析</a>
                                </li>
                                <li class="nav-item  ">
                                    <a href="{{ '/showfeatrue' }}"><i class="ion-ios-checkmark-outline"></i>特征选择</a>
                                </li>
                                <li class="nav-item active">
                                    <a href="{{ '/trainmodel' }}"><i class="ion-ios-monitor-outline"></i>训练模型</a>
                                </li>
                                <li class="nav-item">
                                    <a href="{{'/explain'}}"><i class="ion-ios-color-wand"></i>整体归因分析</a>
                                </li>
                                <li class="nav-item">
                                    <a href="{{'/explain_s'}}"><i class="ion-android-bulb"></i>个体归因分析</a>
                                </li>
                            </ul>
                        </nav>
                        <!-- End drawer navigation -->
                    </div>
                    <!-- End drawer scroll area -->
                </aside>
                <!-- End drawer -->
                <!-- Header -->
                <header class="app-layout-header">
                <nav class="navbar navbar-default">
                    <div class="container-fluid">
                        <div class="navbar-header">

                            <button class="pull-left hidden-lg hidden-md navbar-toggle" type="button" data-toggle="layout" data-action="sidebar_toggle">
                                <span class="sr-only">Toggle drawer</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                             </button>
                            <span class="navbar-page-title">大数据征信归因分析原型系统</span>
                        </div>
                    </div>
                    <!-- .container-fluid -->
                </nav>
                <!-- .navbar-default -->
            </header>
                <!-- End header -->
            <main class="app-layout-content">

                    <!-- Page Content -->
                    <div class="container-fluid p-y-md">
                        <div class="row">
                            <div class="col-sm-12 col-lg-6">
                                <div class="card">
                                    <div class="card-header bg-green bg-inverse">
                                        <h4>逻辑回归算法</h4>
                                        <ul class="card-actions">
                                            <li>
                                                <button type="button"><i class="ion-more"></i></button>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-block">
                                        <p>逻辑回归（Logistic Regression）是一种基本的机器学习算法，在形式上于线性回归有许多相似之处。两者的模型形基本上相同，都有w^T*x+b,其中w,b为自变量。逻辑回归中因变量为二值,所以逻辑回归在线性回归的基础上增加Sigmoid函数，使因变量可以映射到0或1，从而实现分类。</p>
                                        <button class="btn btn-app " type="button" id="lr_bt" name="lr">提交训练</button>
                                    </div>
                                    <div class="card-block">
                                            <div class="progress progress-striped">
                                                <div class="progress-bar progress-bar-success" role="progressbar"
                                                     aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
                                                     style="width: 0%;" id="lr">
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <!-- .col-sm-6 -->

                            <div class="col-sm-12 col-lg-6">
                                <div class="card">
                                    <div class="card-header bg-blue bg-inverse">
                                        <h4>随机森林算法</h4>
                                        <ul class="card-actions">
                                            <li>
                                                <button type="button"><i class="ion-more"></i></button>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-block">
                                        <p>随机森林由很多的决策树组成，随机森林的每一棵决 策树之间是没有关联的。在得到森林之后，当有一个新的输入样本进入的时候，就让森林中的每 一棵决策树分别进行一下判断，看看这个样本应该属于哪一类（对于分类算法），然后看看哪一 类被选择最多，就预测这个样本为那一类。</p>
                                        <button class="btn btn-app " type="button" id="rf_bt" name="rf">提交训练</button>
                                    </div>
                                    <div class="card-block">
                                            <div class="progress progress-striped">
                                                <div class="progress-bar progress-bar-success" role="progressbar"
                                                     aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
                                                     style="width: 0%;" id="rf">
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <!-- .col-sm-6 -->
                            <div class="col-sm-12 col-lg-6">
                                <div class="card">
                                    <div class="card-header bg-purple bg-inverse">
                                        <h4>决策树算法</h4>
                                        <ul class="card-actions">
                                            <li>
                                                <button type="button"><i class="ion-more"></i></button>

                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-block">
                                        <p>决策树是一种树形结构，机器学习中决策树是一个预测模型；他代表的是对象属性与对象值之间的一种映射关系。树中每个节点表示某个对象，而每个分叉路径则代表的某个可能的属性值，而每个叶结点则对应从根节点到该叶节点所经历的路径所表示的对象的值。</p>
                                        <button class="btn btn-app " type="button" id="dt_bt" name="dt">提交训练</button>
                                    </div>
                                    <div class="card-block">
                                            <div class="progress progress-striped">
                                                <div class="progress-bar progress-bar-success" role="progressbar"
                                                     aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
                                                     style="width: 0%;" id="dt">
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 col-lg-6">
                                <div class="card">
                                    <div class="card-header bg-orange bg-inverse">
                                        <h4>MLP神经网络算法</h4>
                                        <ul class="card-actions">
                                            <li>
                                                <button type="button"><i class="ion-more"></i></button>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-block">
                                        <p>MLP(Multilayer Perceptron)神经网络算法，又称多层感知机神经网络算法。神经网络（neural network，NN）是一种模仿生物神经网络的结构和功能的数学模型或计算模型，由大量的节点（或称“神经元”）和之间相互的联接构成，多层感知机在单层神经网络的基础上引入了一到多个隐藏层。</p>

                                        <button class="btn btn-app " type="button" id="mlp_bt" name="mlp">提交训练</button>
                                    </div>
                                    <div class="card-block">
                                            <div class="progress progress-striped">
                                                <div class="progress-bar progress-bar-success" role="progressbar"
                                                     aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
                                                     style="width: 0%;" id="mlp">
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- .container-fluid -->
                    <!-- End Page Content -->

                </main>

            </div>
        </div>


        <div id="apps-modal" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-sm modal-dialog modal-dialog-top">
                <div class="modal-content">
                    <!-- Apps card -->
                    <div class="card m-b-0">
                        <div class="card-header bg-app bg-inverse">
                            <h4>Apps</h4>
                            <ul class="card-actions">
                                <li>
                                    <button data-dismiss="modal" type="button"><i class="ion-close"></i></button>
                                </li>
                            </ul>
                        </div>
                        <div class="card-block">
                            <div class="row text-center">
                                <div class="col-xs-6">
                                    <a class="card card-block m-b-0 bg-app-secondary bg-inverse" href="index.html">
                                        <i class="ion-speedometer fa-4x"></i>
                                        <p>Admin</p>
                                    </a>
                                </div>
                                <div class="col-xs-6">
                                    <a class="card card-block m-b-0 bg-app-tertiary bg-inverse" href="frontend_home.html">
                                        <i class="ion-laptop fa-4x"></i>
                                        <p>Frontend</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <!-- .card-block -->
                    </div>
                    <!-- End Apps card -->
                </div>
            </div>
        </div>
        <!-- End Apps Modal -->

        <div class="app-ui-mask-modal"></div>

        <!-- AppUI Core JS: jQuery, Bootstrap, slimScroll, scrollLock and App.js -->
        <script src="../static/assets/js/core/jquery.min.js"></script>
        <script src="../static/assets/js/core/bootstrap.min.js"></script>
        <script src="../static/assets/js/core/jquery.slimscroll.min.js"></script>
        <script src="../static/assets/js/core/jquery.scrollLock.min.js"></script>
        <script src="../static/assets/js/core/jquery.placeholder.min.js"></script>
        <script src="../static/assets/js/app.js"></script>
        <script src="../static/assets/js/app-custom.js"></script>

        <!-- Page Plugins -->
        <script src="../static/assets/js/plugins/slick/slick.min.js"></script>
        <script src="../static/assets/js/plugins/chartjs/Chart.min.js"></script>
        <script src="../static/assets/js/plugins/flot/jquery.flot.min.js"></script>
        <script src="../static/assets/js/plugins/flot/jquery.flot.pie.min.js"></script>
        <script src="../static/assets/js/plugins/flot/jquery.flot.stack.min.js"></script>
        <script src="../static/assets/js/plugins/flot/jquery.flot.resize.min.js"></script>

        <!-- Page JS Code -->
        <script src="../static/assets/js/pages/index.js"></script>
        <script>
            $(function()
            {
                // Init page helpers (Slick Slider plugin)
                App.initHelpers('slick');
            });
        </script>
    <script>
        function listen(element){
            element.addEventListener('click',function(){
            url = '/show_process/' + element.name
            var sitv = setInterval(function (){
                 $.getJSON(url,function(data){
                     console.log(data.res+'%')
                     document.getElementById(element.name).style.width = data.res+'%'
                     if (data.res == '99'){
                         clearInterval(sitv)
                     }
                 })
            },500);
            var this_url = '/train_process/' + element.name
            var name = element.name
            $.getJSON(this_url,function (data){
                clearInterval(sitv)
                if(data.res != null){
                    document.getElementById(element.name).style.width = '100%'
                    alert(name + '：模型训练成功')
                }
                else{
                    document.getElementById(element.name).class = 'progress-bar-danger'
                    alert(name + '：模型训练失败')
                }
            })

        })
        }
        var btn_lr = document.getElementById('lr_bt')
        var btn_rf = document.getElementById('rf_bt')
        var btn_dt = document.getElementById('dt_bt')
        var btn_mlp = document.getElementById('mlp_bt')
        listen(btn_lr)
        listen(btn_rf)
        listen(btn_dt)
        listen(btn_mlp)
    </script>
    </body>