<!DOCTYPE html>

<html class="app-ui">

    <head>
        <!-- Meta -->
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

        <!-- Document title -->
        <title></title>

        <meta name="description" content="AppUI - Admin Dashboard Template & UI Framework" />
        <meta name="author" content="rustheme" />
        <meta name="robots" content="noindex, nofollow" />

        <!-- Favicons -->
        <link rel="apple-touch-icon" href="../static/assets/img/favicons/apple-touch-icon.png" />
        <link rel="icon" href="../static/assets/img/favicons/favicon.ico" />

        <!-- Google fonts -->
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,900%7CRoboto+Slab:300,400%7CRoboto+Mono:400" />

        <!-- AppUI CSS stylesheets -->
        <link rel="stylesheet" id="css-font-awesome" href="../static/assets/css/font-awesome.css" />
        <link rel="stylesheet" id="css-ionicons" href="../static/assets/css/ionicons.css" />
        <link rel="stylesheet" id="css-bootstrap" href="../static/assets/css/bootstrap.css" />
        <link rel="stylesheet" id="css-app" href="../static/assets/css/app.css" />
        <link rel="stylesheet" id="css-app-custom" href="../static/assets/css/app-custom.css" />
        <!-- End Stylesheets -->
    </head>

    <body class="app-ui layout-has-drawer layout-has-fixed-header">
        <div class="app-layout-canvas">
            <div class="app-layout-container">

                <!-- Drawer -->
                <aside class="app-layout-drawer">

                    <!-- Drawer scroll area -->
                    <div class="app-layout-drawer-scroll">

                        <!-- Drawer navigation -->
                        <nav class="drawer-main">
                            <ul class="nav nav-drawer">

                                <li class="nav-item nav-drawer-header">大数据征信归因分析原型系统</li>
                                <li class="nav-item ">
                                    <a href="{{'/upload'}}"><i class="ion-document"></i>上传文件</a>
                                </li>
                                <li class="nav-item ">
                                    <a href="{{'/showdata'}}"><i class="ion-ios-speedometer-outline"></i>数据分析</a>
                                </li>
                                <li class="nav-item  ">
                                    <a href="{{ '/showfeatrue' }}"><i class="ion-ios-checkmark-outline"></i>特征选择</a>
                                </li>
                                <li class="nav-item">
                                    <a href="{{'/trainmodel'}}"><i class="ion-ios-monitor-outline"></i>训练模型</a>
                                </li>
                                <li class="nav-item">
                                    <a href="{{'/explain'}}"><i class="ion-ios-color-wand"></i>整体归因分析</a>
                                </li>
                                <li class="nav-item active">
                                    <a href="{{'/explain_s '}}"><i class="ion-android-bulb"></i>个体归因分析</a>
                                </li>
                            </ul>
                        </nav>
                        <!-- End drawer navigation -->
                    </div>
                    <!-- End drawer scroll area -->
                </aside>
                <!-- End drawer -->
                <!-- Header -->
                <header class="app-layout-header">
                    <nav class="navbar navbar-default">
                    <div class="container-fluid">
                        <div class="navbar-header">

                            <button class="pull-left hidden-lg hidden-md navbar-toggle" type="button" data-toggle="layout" data-action="sidebar_toggle">
                                <span class="sr-only">Toggle drawer</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                             </button>
                            <span class="navbar-page-title">大数据征信归因分析原型系统</span>
                        </div>
                    </div>
                    <!-- .container-fluid -->
                </nav>
                <!-- .navbar-default -->
                </header>
                <!-- End header -->
                <main class="app-layout-content">
                    <div class="container-fluid p-y-md">
                        <div class="card">
                            <ul id="myTab" class="nav nav-tabs" data-toggle="tabs">
                                <li id="tab_s" class="active">
                                    <a href="#sigle_analyse" id="sigle_tab">个体归因</a>
                                </li>
                            </ul>
                            <div class="card-block tab-content bg-white">
                                <!-- Classic -->
                                <div class="tab-pane fade fade-in " id="total_analyse">
                                    <div class="row">
                                        <div class="card">
                                            <div class="card-block">
                                                <div class="row">
                                                    <div class="card">
                                                        <div class="card-block">
                                                            <button class="btn btn-app " type="button" id="entire_exp_bt" name="entire_exp">计算整体倾向分</button>
                                                        </div>
                                                        <div class="card-block">
                                                            <div class="progress progress-striped">
                                                                <div class="progress-bar progress-bar-success" role="progressbar"
                                                                     aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
                                                                     style="width: 0%;" id="entire_exp">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 400px">
                                                            <div class="card-header">
                                                                <h4>同一模型中不同属性的归因分析</h4>
                                                                <ul class="card-actions">
                                                                    <li>
                                                                        <button type="button"><i class="ion-more"></i></button>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <div class="card-block" >
                                                                <form class="form-horizontal" action="/show_explain/entire_1" method="post" enctype="multipart/form-data" id="entire_fm_1">
                                                                <div class="form-group" >
                                                                <label for="model_name" style="font-size:12pt">选择模型</label>
                                                                    <select class="form-control" id="model_name" name="model_name" size="1" style="font-size:12pt">
                                                                        {% for model in model_name %}
                                                                            <option value={{ model}} >{{ model}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" ></div>
                                                                <div class="form-group" >
                                                                    <label for="example-select" style="font-size:12pt">查看特征</label>
                                                                    <select class="form-control" id="feature_name" name="feature_name" size="3" style="font-size:12pt" multiple>
                                                                        {% for feature in expline_feature %}
                                                                            <option value={{ feature}} >{{ feature}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" ></div>
                                                                <div class="form-group" ></div>
                                                                <div class="form-group" >
                                                                    <button class="btn btn-app" type="button" style="font-size:14pt" id="entire_bt_1" >提交分析</button>
                                                                </div>
                                                            </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 400px" >
                                                            <div class="card-block">
                                                                <div id="chart1" style="height: 400px;width:100%"></div>
                                                            </div>
                                                    </div>
                                                </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 400px">
                                                            <div class="card-header">
                                                                <h4>同一属性在不同模型中的归因分析</h4>
                                                                <ul class="card-actions">
                                                                    <li>
                                                                        <button type="button"><i class="ion-more"></i></button>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <div class="card-block" >
                                                                <form class="form-horizontal" action="/show_explain/entire_2" method="post" enctype="multipart/form-data" id="entire_fm_2">
                                                                <div class="form-group" >
                                                                <label for="model_name">查看模型</label>
                                                                    <select class="form-control" id="model_name" name="model_name" size="1" style="font-size:12pt">
                                                                        {% for model in model_name %}
                                                                            <option value={{ model}} >{{ model}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" ></div>
                                                                <div class="form-group" >
                                                                    <label for="example-select">选择特征</label>
                                                                    <select class="form-control" id="feature_name" name="feature_name" size="1" style="font-size:12pt">
                                                                        {% for feature in expline_feature %}
                                                                            <option value={{ feature}} >{{ feature}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" ></div>
                                                                <div class="form-group" ></div>
                                                                <div class="form-group" >
                                                                    <button class="btn btn-app" type="button" style="font-size:14pt" id="entire_bt_2" >提交分析</button>
                                                                </div>
                                                            </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 400px" >
                                                            <div class="card-block">
                                                                <div id="chart2" style="height: 400px;width:100%"></div>
                                                            </div>
                                                    </div>
                                                </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <!-- End Classic -->

                                <!-- Users -->
                                <div class="tab-pane fade fade-in in active" id="sigle_analyse">
                                    <div class="row">
                                        <div class="card">
                                            <div class="card-block">
                                                <div class="row">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h4>随机选取的数据</h4>
                                                            <ul class="card-actions">
                                                                <li>
                                                                    <button type="button" id="refresh"><i class="ion-android-refresh"></i></button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="card-block">
                                                            <table class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <td class="text-center">#</td>
                                                                        {% for feature in sample_feature %}
                                                                            <td class="text-center">{{ feature }}</td>
                                                                        {% endfor %}
                                                                    </tr>
                                                                </thead>
                                                                <tbody id="tb">
                                                                    {% for data in sample_data %}
                                                                        <tr>
                                                                            <td class="text-center">{{ loop.index}}</td>
                                                                                {% for feature in sample_feature %}
                                                                                    <td class="text-center">{{ data[loop.index0]}}</td>
                                                                                {% endfor %}
                                                                        </tr>
                                                                    {% endfor %}
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="card">
                                                        <div class="card-block">
                                                            <button class="btn btn-app " type="button" id="single_exp_bt" name="single_exp">计算个体倾向分</button>
                                                        </div>
                                                        <div class="card-block">
                                                            <div class="progress progress-striped">
                                                                <div class="progress-bar progress-bar-success" role="progressbar"
                                                                     aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
                                                                     style="width: 0%;" id="single_exp">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 450px">
                                                            <div class="card-header">
                                                                <h4>相同特征不同模型的归因分析</h4>
                                                                <ul class="card-actions">
                                                                    <li>
                                                                        <button type="button"><i class="ion-more"></i></button>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <div class="card-block" >
                                                            <form class="form-horizontal" method="post" enctype="multipart/form-data" id="single_fm_1">
                                                                <div class="form-group" >
                                                                    <label for="example-select" style="font-size:12pt">选择个体</label>
                                                                    <select class="form-control" id="example-select" name="example-select" size="1" style="font-size:12pt" >
                                                                        <option value="0" >第一个</option>
                                                                        <option value="1" >第二个</option>
                                                                        <option value="2" >第三个</option>
                                                                        <option value="3" >第四个</option>
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" >
                                                                    <label for="example-select" style="font-size:12pt">选择特征</label>
                                                                    <select class="form-control" id="feature_name" name="feature_name" size="1" style="font-size:12pt">
                                                                        {% for feature in expline_feature %}
                                                                            <option value={{ feature}} >{{ feature}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" >
                                                                <label for="example-select " style="font-size:12pt">查看模型</label>
                                                                    <select class="form-control" id="model_name" name="model_name" size="4" style="font-size:12pt" multiple>
                                                                        {% for model in model_name %}
                                                                            <option value={{ model}} >{{ model}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>

                                                                <div class="form-group" >
                                                                    <button class="btn btn-app" type="button" style="font-size:14pt" id="single_bt_1">提交分析</button>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6" >
                                                        <div class="card">
                                                            <div class="card-block" style="height: 450px;">
                                                                <div id="chart3" style="height: 400px;width:100%"></div>
                                                            </div>
                                                    </div>
                                                </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 450px">
                                                            <div class="card-header">
                                                                <h4>同一模型不同特征的归因分析</h4>
                                                                <ul class="card-actions">
                                                                    <li>
                                                                        <button type="button"><i class="ion-more"></i></button>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <div class="card-block" >
                                                            <form class="form-horizontal"  method="post" enctype="multipart/form-data" id="single_fm_2">
                                                                <div class="form-group" >
                                                                    <label for="example-select" style="font-size:12pt">选择个体</label>
                                                                    <select class="form-control" id="example-select" name="example-select" size="1" style="font-size:12pt">
                                                                        <option value="0" >第一个</option>
                                                                        <option value="1" >第二个</option>
                                                                        <option value="2" >第三个</option>
                                                                        <option value="3" >第四个</option>
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" >
                                                                    <label for="example-select" style="font-size:12pt">选择模型</label>
                                                                        <select class="form-control" id="model_name" name="model_name" size="1" style="font-size:12pt">
                                                                            {% for model in model_name %}
                                                                                <option value={{ model}} >{{ model}}</option>
                                                                            {% endfor %}
                                                                        </select>
                                                                    </div>
                                                                <div class="form-group" >
                                                                    <label for="example-select" style="font-size:12pt">查看特征</label>
                                                                    <select class="form-control" id="feature_name" name="feature_name" size="4" style="font-size:12pt" multiple>
                                                                        {% for feature in expline_feature %}
                                                                            <option value={{ feature}} >{{ feature}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" >
                                                                    <button class="btn btn-app" type="button" style="font-size:14pt" id="single_bt_2">提交分析</button>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 450px" >
                                                            <div class="card-block">
                                                                <div id="chart4" style="height: 400px;width:100%"></div>
                                                            </div>
                                                    </div>
                                                </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 450px">
                                                            <div class="card-header">
                                                                <h4>不同个体的对比归因分析</h4>
                                                                <ul class="card-actions">
                                                                    <li>
                                                                        <button type="button"><i class="ion-more"></i></button>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <div class="card-block" >
                                                            <form class="form-horizontal"  method="post" enctype="multipart/form-data" id="single_fm_3">
                                                                <div class="form-group" >
                                                                    <label for="example-select" style="font-size:12pt">查看个体</label>
                                                                    <select class="form-control" id="example-select" name="example-select" size="4" style="font-size:12pt" multiple>
                                                                        <option value="0" >第一个</option>
                                                                        <option value="1" >第二个</option>
                                                                        <option value="2" >第三个</option>
                                                                        <option value="3" >第四个</option>
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" >
                                                                    <label for="example-select"style="font-size:12pt">选择特征</label>
                                                                    <select class="form-control" id="feature_name" name="feature_name" size="1" style="font-size:12pt">
                                                                        {% for feature in expline_feature %}
                                                                            <option value={{ feature}} >{{ feature}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" >
                                                                <label for="example-select"style="font-size:12pt">选择模型</label>
                                                                    <select class="form-control" id="model_name" name="model_name" size="1" style="font-size:12pt">
                                                                        {% for model in model_name %}
                                                                            <option value={{ model}} >{{ model}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <div class="form-group" >
                                                                    <button class="btn btn-app" type="button" style="font-size:14pt" id="single_bt_3">提交分析</button>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6" >
                                                        <div class="card" style="height: 450px" >
                                                            <div class="card-block">
                                                                <div id="chart5" style="height: 400px;width:100%"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Users -->
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>


        <div id="apps-modal" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-sm modal-dialog modal-dialog-top">
                <div class="modal-content">
                    <!-- Apps card -->
                    <div class="card m-b-0">
                        <div class="card-header bg-app bg-inverse">
                            <h4>Apps</h4>
                            <ul class="card-actions">
                                <li>
                                    <button data-dismiss="modal" type="button"><i class="ion-close"></i></button>
                                </li>
                            </ul>
                        </div>
                        <div class="card-block">
                            <div class="row text-center">
                                <div class="col-xs-6">
                                    <a class="card card-block m-b-0 bg-app-secondary bg-inverse" href="index.html">
                                        <i class="ion-speedometer fa-4x"></i>
                                        <p>Admin</p>
                                    </a>
                                </div>
                                <div class="col-xs-6">
                                    <a class="card card-block m-b-0 bg-app-tertiary bg-inverse" href="frontend_home.html">
                                        <i class="ion-laptop fa-4x"></i>
                                        <p>Frontend</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <!-- .card-block -->
                    </div>
                    <!-- End Apps card -->
                </div>
            </div>
        </div>
        <!-- End Apps Modal -->

        <div class="app-ui-mask-modal"></div>

        <!-- AppUI Core JS: jQuery, Bootstrap, slimScroll, scrollLock and App.js -->
        <script src="../static/assets/js/core/jquery.min.js"></script>
        <script src="../static/assets/js/core/bootstrap.min.js"></script>
        <script src="../static/assets/js/core/jquery.slimscroll.min.js"></script>
        <script src="../static/assets/js/core/jquery.scrollLock.min.js"></script>
        <script src="../static/assets/js/core/jquery.placeholder.min.js"></script>
        <script src="../static/assets/js/app.js"></script>
        <script src="../static/assets/js/app-custom.js"></script>

        <!-- Page JS Code -->
        <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
        <script>
            $(function()
            {
                // Init page helpers (Slick Slider plugin)
                App.initHelpers('slick');
            });
        </script>
        <script>
            var single_chart1 = document.getElementById("chart3")
            var single_bt_1 = document.getElementById("single_bt_1")
            single_chart1 = echarts.init(single_chart1)
            single_bt_1.addEventListener('click',function(){
                $.ajax({
                    type: "POST",
                    url:"/show_explain/single_1",
                    data:$('#single_fm_1').serialize(),
                    dataType:'json',
                    success:function (data){
                        var seriesArr = []
                        for (var i=0;i<data.lines;i++)
                        {
                            seriesArr.push({type: 'line', smooth: true, seriesLayoutBy: 'row'})
                        }
                        var option1 = {
                            legend: {},
                            tooltip: {
                                trigger: 'axis',
                                showContent: true
                            },
                            dataset: {
                                source:data.data
                            },
                            xAxis: {type: 'category', show:false},
                            yAxis: {gridIndex: 0},

                            series: [
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'}
                            ]
                        };

                        single_chart1.setOption(option1);

                    },
                });
            });
        </script>
        <script>
            var single_chart2 = document.getElementById("chart4")
            var single_bt_2 = document.getElementById("single_bt_2");
            single_chart2 = echarts.init(single_chart2);
            single_bt_2.addEventListener('click',function(){
                $.ajax({
                    type: "POST",
                    url:"/show_explain/single_2",
                    data:$('#single_fm_2').serialize(),
                    dataType:'json',
                    success:function (data){
                        var seriesArr = []
                        for (var i=0;i<data.lines;i++)
                        {
                            seriesArr.push({type: 'line', smooth: true, seriesLayoutBy: 'row'})
                        }
                        var option2 = {
                            legend: {},
                            tooltip: {
                                trigger: 'axis',
                                showContent: true
                            },
                            dataset: {
                                source:data.data
                            },
                            xAxis: {type: 'category', show:false},
                            yAxis: {gridIndex: 0},

                            series: [
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'}
                            ]
                        };
                        single_chart2.setOption(option2);
                    },
                });
            });
        </script>
        <script>
            var single_chart3 = document.getElementById("chart5")
            var single_bt_3 = document.getElementById("single_bt_3");
            single_chart3 = echarts.init(single_chart3);
            single_bt_3.addEventListener('click',function(){
                $.ajax({
                    type: "POST",
                    url:"/show_explain/single_3",
                    data:$('#single_fm_3').serialize(),
                    dataType:'json',
                    success:function (data){
                        var seriesArr = []
                        for (var i=0;i<data.lines;i++)
                        {
                            seriesArr.push({type: 'line', smooth: true, seriesLayoutBy: 'row'})
                        }
                        var option3 = {
                            legend: {},
                            tooltip: {
                                trigger: 'axis',
                                showContent: true
                            },
                            dataset: {
                                source:data.data
                            },
                            xAxis: {type: 'category', show:false},
                            yAxis: {gridIndex: 0},

                            series: [
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'row'}
                            ]
                        };
                        single_chart3.setOption(option3);
                    },
                });
            });
        </script>

        <script>
            window.onresize = function(){
                chart1.resize();
                chart2.resize();
                single_chart1.resize();
                single_chart2.resize();
                single_chart3.resize();
            };
        </script>
    <script>
        function listen(element,show_url,process_url){
            element.addEventListener('click',function(){
                var sitv = setInterval(function (){
                 $.getJSON(show_url,function(data){
                     console.log(data.res+'%')
                     document.getElementById(element.name).style.width = data.res+'%'
                     if (data.res == '99'){
                         clearInterval(sitv)
                     }
                 })
            },500);

                $.getJSON(process_url,function (data){
                    clearInterval(sitv)
                    if(data.res != null){
                        document.getElementById(element.name).style.width = '100%'
                        alert("完成计算")
                    }
                    else{
                        document.getElementById(element.name).class = 'progress-bar-danger'
                        alert("计算失败")
                    }
                })
            })
        }
        var entire_show_url = '/show_explain/entire_pps_show'
        var entire_process_url = '/show_explain/entire_pps'
        var btn_entire = document.getElementById('entire_exp_bt')
        var single_show_url = '/show_explain/single_pps_show'
        var single_process_url = '/show_explain/single_pps'
        var btn_single = document.getElementById('single_exp_bt')
        listen(btn_entire,entire_show_url,entire_process_url)
        listen(btn_single,single_show_url,single_process_url)
    </script>
    <script>
        function get_date (){
            $.ajax({
                    type: "POST",
                    url:"/show_explain/reflash",
                    dataType:'json',
                    success:function (data){
                        var str = "";
                        for(var i = 0; i < data.data.length; i++){
                           str += "<tr><td class='text-center'>"+i.toString()+"</td>"
                            for(var j = 0; j < data.feature.length; j++){
                                str+="<td class='text-center'>"+data.data[i][j].toString()+"</td>"
                            }
                            str+="</tr>"
                        }
                        $('#tb').html(str);
                    }
                });
        }

        var reflash = document.getElementById('refresh')
        reflash.addEventListener('click',function (){
            get_date();
             document.getElementById("single_exp").style.width = '0%';
        })
        {#var single = document.getElementById("sigle_tab")#}
        {#var single_chart1 ;#}
        {#var single_chart2 ;#}
        {#var single_chart3 ;#}
        {#single_chart1 = echarts.init(document.getElementById("chart3"))#}
        {#single_chart2 = echarts.init(document.getElementById("chart4"))#}
        {#single_chart3 = echarts.init(document.getElementById("chart5"))#}

    </script>
    </body>
